{"ast":null,"code":"import{useState,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import'../styles/HeroSection.css';import{getData}from'../../Api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HeroSection=()=>{const[searchTerm,setSearchTerm]=useState('');const[suggestions,setSuggestions]=useState([]);const[bikes,setBikes]=useState([]);const[showSuggestions,setShowSuggestions]=useState(false);const navigate=useNavigate();const searchContainerRef=useRef(null);// Fetch all bikes for suggestions\nuseEffect(()=>{const fetchBikes=async()=>{try{const data=await getData('api/get-bike/');setBikes(data);}catch(error){console.error('Error fetching bikes:',error);}};fetchBikes();},[]);// Filter suggestions based on search term\nuseEffect(()=>{if(searchTerm.trim()===''){setSuggestions([]);return;}const filteredBikes=bikes.filter(bike=>bike.name.toLowerCase().includes(searchTerm.toLowerCase()));setSuggestions(filteredBikes.slice(0,5));// Limit to 5 suggestions\n},[searchTerm,bikes]);// Handle click outside to close suggestions\nuseEffect(()=>{const handleClickOutside=event=>{if(searchContainerRef.current&&!searchContainerRef.current.contains(event.target)){setShowSuggestions(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);const handleSearch=e=>{e.preventDefault();if(searchTerm.trim()){// Navigate to a search results page or filter the bike list\n// For now, we'll just log the search term\nconsole.log('Searching for:',searchTerm);// You could implement navigation to a search results page like this:\n// navigate(`/search?query=${encodeURIComponent(searchTerm)}`);\n}};const handleSuggestionClick=bikeId=>{navigate(`/bike/${bikeId}`);setShowSuggestions(false);};return/*#__PURE__*/_jsx(\"section\",{className:\"hero-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hero-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Find Your Dream Motorcycle\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Find the perfect ride for your next adventure.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",ref:searchContainerRef,children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,className:\"search-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-input-container\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",className:\"search-icon\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"11\",cy:\"11\",r:\"8\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"21\",y1:\"21\",x2:\"16.65\",y2:\"16.65\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search your bike here, e.g. Royal Enfield Hunter 350\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),onFocus:()=>setShowSuggestions(true),className:\"search-input\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"search-button\",children:\"Search\"})]}),showSuggestions&&suggestions.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"suggestions-list\",children:suggestions.map(bike=>/*#__PURE__*/_jsx(\"li\",{onClick:()=>handleSuggestionClick(bike.id),className:\"suggestion-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"suggestion-content\",children:[/*#__PURE__*/_jsx(\"img\",{src:`${process.env.REACT_APP_API_URL}${bike.image1}`,alt:bike.name,className:\"suggestion-image\",onError:e=>{e.target.onerror=null;e.target.src='https://via.placeholder.com/40x40?text=No+Image';}}),/*#__PURE__*/_jsxs(\"div\",{className:\"suggestion-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"suggestion-name\",children:bike.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"suggestion-price\",children:[\"\\u20B9\",parseInt(bike.price).toLocaleString()]})]})]})},bike.id))})]})]})});};export default HeroSection;","map":{"version":3,"names":["useState","useEffect","useRef","useNavigate","getData","jsx","_jsx","jsxs","_jsxs","HeroSection","searchTerm","setSearchTerm","suggestions","setSuggestions","bikes","setBikes","showSuggestions","setShowSuggestions","navigate","searchContainerRef","fetchBikes","data","error","console","trim","filteredBikes","filter","bike","name","toLowerCase","includes","slice","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleSearch","e","preventDefault","log","handleSuggestionClick","bikeId","className","children","ref","onSubmit","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","x1","y1","x2","y2","type","placeholder","value","onChange","onFocus","length","map","onClick","id","src","process","env","REACT_APP_API_URL","image1","alt","onError","onerror","parseInt","price","toLocaleString"],"sources":["C:/Users/sneha/Desktop/Github/client/front/src/components/layout/HeroSection.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/HeroSection.css';\nimport { getData } from '../../Api';\n\nconst HeroSection = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const [bikes, setBikes] = useState([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const navigate = useNavigate();\n  const searchContainerRef = useRef(null);\n\n  // Fetch all bikes for suggestions\n  useEffect(() => {\n    const fetchBikes = async () => {\n      try {\n        const data = await getData('api/get-bike/');\n        setBikes(data);\n      } catch (error) {\n        console.error('Error fetching bikes:', error);\n      }\n    };\n    fetchBikes();\n  }, []);\n\n  // Filter suggestions based on search term\n  useEffect(() => {\n    if (searchTerm.trim() === '') {\n      setSuggestions([]);\n      return;\n    }\n\n    const filteredBikes = bikes.filter(bike =>\n      bike.name.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n    setSuggestions(filteredBikes.slice(0, 5)); // Limit to 5 suggestions\n  }, [searchTerm, bikes]);\n\n  // Handle click outside to close suggestions\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (searchContainerRef.current && !searchContainerRef.current.contains(event.target)) {\n        setShowSuggestions(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    if (searchTerm.trim()) {\n      // Navigate to a search results page or filter the bike list\n      // For now, we'll just log the search term\n      console.log('Searching for:', searchTerm);\n      // You could implement navigation to a search results page like this:\n      // navigate(`/search?query=${encodeURIComponent(searchTerm)}`);\n    }\n  };\n\n  const handleSuggestionClick = (bikeId) => {\n    navigate(`/bike/${bikeId}`);\n    setShowSuggestions(false);\n  };\n\n  return (\n    <section className=\"hero-section\">\n      <div className=\"hero-content\">\n        <h1>Find Your Dream Motorcycle</h1>\n        <p>\n          Find the perfect ride for your next adventure.\n        </p>\n        \n        <div className=\"search-container\" ref={searchContainerRef}>\n          <form onSubmit={handleSearch} className=\"search-form\">\n            <div className=\"search-input-container\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"search-icon\">\n                <circle cx=\"11\" cy=\"11\" r=\"8\"></circle>\n                <line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line>\n              </svg>\n              <input\n                type=\"text\"\n                placeholder=\"Search your bike here, e.g. Royal Enfield Hunter 350\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                onFocus={() => setShowSuggestions(true)}\n                className=\"search-input\"\n              />\n            </div>\n            <button type=\"submit\" className=\"search-button\">Search</button>\n          </form>\n          \n          {showSuggestions && suggestions.length > 0 && (\n            <ul className=\"suggestions-list\">\n              {suggestions.map((bike) => (\n                <li \n                  key={bike.id} \n                  onClick={() => handleSuggestionClick(bike.id)}\n                  className=\"suggestion-item\"\n                >\n                  <div className=\"suggestion-content\">\n                    <img \n                      src={`${process.env.REACT_APP_API_URL}${bike.image1}`} \n                      alt={bike.name} \n                      className=\"suggestion-image\" \n                      onError={(e) => {\n                        e.target.onerror = null;\n                        e.target.src = 'https://via.placeholder.com/40x40?text=No+Image';\n                      }}\n                    />\n                    <div className=\"suggestion-details\">\n                      <span className=\"suggestion-name\">{bike.name}</span>\n                      <span className=\"suggestion-price\">â‚¹{parseInt(bike.price).toLocaleString()}</span>\n                    </div>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default HeroSection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}