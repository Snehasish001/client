{"ast":null,"code":"import{useState,useEffect}from'react';import{getData}from'../../Api';import MotorcycleCard from'./MotorcycleCard';import'../styles/BikeList.css';import'../styles/loading.css';// Import the loading animation styles\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BikeList=()=>{const[bikes,setBikes]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[newLaunches,setNewLaunches]=useState([]);const[regularBikes,setRegularBikes]=useState([]);useEffect(()=>{getData('api/get-bike/')// Keeping the API fetch logic as requested\n.then(data=>{// Sort bikes by year in descending order\nconst sortedBikes=[...data].sort((a,b)=>b.year-a.year);// Get the newest year bikes as new launches\nconst currentYear=new Date().getFullYear();const launches=sortedBikes.filter(bike=>bike.year>=currentYear-1);setNewLaunches(launches);// The rest are regular bikes\nconst regular=sortedBikes.filter(bike=>bike.year<currentYear-1);setRegularBikes(regular);setBikes(data);// Keep the original data for reference if needed\nsetLoading(false);}).catch(err=>{console.error(err);setError(err.message);setLoading(false);});},[]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading Bikes\"}),\" \"]});}if(error)return/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]});// Calculate how many bikes to show per row based on screen width\n// For simplicity, let's assume 4 bikes per row on desktop\nconst bikesPerRow=4;// Limit regular bikes to 2 rows (8 bikes)\nconst regularBikesToShow=regularBikes.slice(0,bikesPerRow*2);// Limit new launches to 2 rows (8 bikes)\nconst newLaunchesToShow=newLaunches.slice(0,bikesPerRow*2);return/*#__PURE__*/_jsxs(\"div\",{className:\"bikes-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"regular-bikes-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Popular Bikes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bike-list\",children:regularBikesToShow.map(bike=>/*#__PURE__*/_jsx(MotorcycleCard,{id:bike.id,image:bike.image1,name:bike.name,year:bike.year||'—',category:bike.category||'—',displacement:bike.displacement,description:bike.about||'No description.',price:bike.price,isTrending:false},bike.id))})]}),newLaunchesToShow.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"new-launches-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"New Launches\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bike-list\",children:newLaunchesToShow.map(bike=>/*#__PURE__*/_jsx(MotorcycleCard,{id:bike.id,image:bike.image1,name:bike.name,year:bike.year||'—',category:bike.category||'—',displacement:bike.displacement,description:bike.about||'No description.',price:bike.price,isTrending:true},bike.id))})]})]});};export default BikeList;","map":{"version":3,"names":["useState","useEffect","getData","MotorcycleCard","jsx","_jsx","jsxs","_jsxs","BikeList","bikes","setBikes","loading","setLoading","error","setError","newLaunches","setNewLaunches","regularBikes","setRegularBikes","then","data","sortedBikes","sort","a","b","year","currentYear","Date","getFullYear","launches","filter","bike","regular","catch","err","console","message","className","children","bikesPerRow","regularBikesToShow","slice","newLaunchesToShow","map","id","image","image1","name","category","displacement","description","about","price","isTrending","length"],"sources":["C:/Users/sneha/Desktop/Github/client/front/src/components/layout/BikeList.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { getData } from '../../Api';\nimport MotorcycleCard from './MotorcycleCard';\nimport '../styles/BikeList.css';\nimport '../styles/loading.css'; // Import the loading animation styles\n\nconst BikeList = () => {\n  const [bikes, setBikes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [newLaunches, setNewLaunches] = useState([]);\n  const [regularBikes, setRegularBikes] = useState([]);\n\n  useEffect(() => {\n    getData('api/get-bike/') // Keeping the API fetch logic as requested\n      .then(data => {\n        // Sort bikes by year in descending order\n        const sortedBikes = [...data].sort((a, b) => b.year - a.year);\n\n        // Get the newest year bikes as new launches\n        const currentYear = new Date().getFullYear();\n        const launches = sortedBikes.filter(bike => bike.year >= currentYear - 1);\n        setNewLaunches(launches);\n\n        // The rest are regular bikes\n        const regular = sortedBikes.filter(bike => bike.year < currentYear - 1);\n        setRegularBikes(regular);\n\n        setBikes(data); // Keep the original data for reference if needed\n        setLoading(false);\n      })\n      .catch(err => {\n        console.error(err);\n        setError(err.message);\n        setLoading(false);\n      });\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\"> {/* New container div */}\n        <div className=\"loading\"> {/* The animation HTML */}\n          <span></span>\n          <span></span>\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n        <p>Loading Bikes</p> {/* The text below the animation */}\n      </div>\n    );\n  }\n  if (error) return <p>Error: {error}</p>;\n\n  // Calculate how many bikes to show per row based on screen width\n  // For simplicity, let's assume 4 bikes per row on desktop\n  const bikesPerRow = 4;\n\n  // Limit regular bikes to 2 rows (8 bikes)\n  const regularBikesToShow = regularBikes.slice(0, bikesPerRow * 2);\n\n  // Limit new launches to 2 rows (8 bikes)\n  const newLaunchesToShow = newLaunches.slice(0, bikesPerRow * 2);\n\n  return (\n    <div className=\"bikes-container\">\n      <div className=\"regular-bikes-section\">\n        <h2 className=\"section-title\">Popular Bikes</h2>\n        <div className=\"bike-list\">\n          {regularBikesToShow.map(bike => (\n            <MotorcycleCard\n              key={bike.id}\n              id={bike.id}\n              image={bike.image1}\n              name={bike.name}\n              year={bike.year || '—'}\n              category={bike.category || '—'}\n              displacement={bike.displacement}\n              description={bike.about || 'No description.'}\n              price={bike.price}\n              isTrending={false}\n            />\n          ))}\n        </div>\n      </div>\n\n      {newLaunchesToShow.length > 0 && (\n        <div className=\"new-launches-section\">\n          <h2 className=\"section-title\">New Launches</h2>\n          <div className=\"bike-list\">\n            {newLaunchesToShow.map(bike => (\n              <MotorcycleCard\n                key={bike.id}\n                id={bike.id}\n                image={bike.image1}\n                name={bike.name}\n                year={bike.year || '—'}\n                category={bike.category || '—'}\n                displacement={bike.displacement}\n                description={bike.about || 'No description.'}\n                price={bike.price}\n                isTrending={true}\n              />\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BikeList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}